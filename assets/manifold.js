const On="modulepreload",In=function(ue){return"/"+ue},Ur={},Dn=function(Pe,Y,o){if(!Y||Y.length===0)return Pe();const ce=document.getElementsByTagName("link");return Promise.all(Y.map(F=>{if(F=In(F),F in Ur)return;Ur[F]=!0;const k=F.endsWith(".css"),je=k?'[rel="stylesheet"]':"";if(!!o)for(let H=ce.length-1;H>=0;H--){const J=ce[H];if(J.href===F&&(!k||J.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${F}"]${je}`))return;const V=document.createElement("link");if(V.rel=k?"stylesheet":On,k||(V.as="script",V.crossOrigin=""),V.href=F,document.head.appendChild(V),k)return new Promise((H,J)=>{V.addEventListener("load",H),V.addEventListener("error",()=>J(new Error(`Unable to preload CSS for ${F}`)))})})).then(()=>Pe()).catch(F=>{const k=new Event("vite:preloadError",{cancelable:!0});if(k.payload=F,window.dispatchEvent(k),!k.defaultPrevented)throw F})};var jn=(()=>{var ue=import.meta.url;return async function(Pe={}){var Y,o=Pe,ce,F,k=new Promise((e,r)=>{ce=e,F=r}),je=typeof window=="object",$e=typeof importScripts=="function",V=typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string";if(V){const{createRequire:e}=await Dn(()=>import("./__vite-browser-external.js"),[]);var H=e(import.meta.url)}var J=!1;o.setup=function(){if(J)return;J=!0,o.initTBB();function e(i,a,f=p=>p){if(a)for(let p of a)i.push_back(f(p));return i}function r(i,a=f=>f){const f=[],p=i.size();for(let _=0;_<p;_++)f.push(a(i.get(_)));return f}function t(i,a=f=>f){const f=[],p=i.size();for(let _=0;_<p;_++){const b=i.get(_),w=b.size(),M=[];for(let A=0;A<w;A++)M.push(a(b.get(A)));f.push(M)}return f}function n(i){return i[0].length<3&&(i=[i]),e(new o.Vector2_vec2,i,a=>e(new o.Vector_vec2,a,f=>f instanceof Array?{x:f[0],y:f[1]}:f))}function s(i){for(let a=0;a<i.size();a++)i.get(a).delete();i.delete()}function u(i){return i[0]instanceof Array?{x:i[0][0],y:i[0][1]}:typeof i[0]=="number"?{x:i[0]||0,y:i[1]||0}:i[0]}function l(i){return i[0]instanceof Array?{x:i[0][0],y:i[0][1],z:i[0][2]}:typeof i[0]=="number"?{x:i[0]||0,y:i[1]||0,z:i[2]||0}:i[0]}function c(i){return i=="EvenOdd"?0:i=="NonZero"?1:i=="Negative"?3:2}function v(i){return i=="Round"?1:i=="Miter"?2:0}const d=o.CrossSection;function h(i,a="Positive"){if(i instanceof d)return i;{const f=n(i),p=new d(f,c(a));return s(f),p}}o.CrossSection.prototype.translate=function(...i){return this._Translate(u(i))},o.CrossSection.prototype.scale=function(i){return typeof i=="number"?this._Scale({x:i,y:i}):this._Scale(u([i]))},o.CrossSection.prototype.mirror=function(i){return this._Mirror(u([i]))},o.CrossSection.prototype.warp=function(i){const a=ge(function(p){const _=I(p,"double"),b=I(p+8,"double"),w=[_,b];i(w),re(p,w[0],"double"),re(p+8,w[1],"double")},"vi"),f=this._Warp(a);return be(a),f},o.CrossSection.prototype.decompose=function(){const i=this._Decompose(),a=r(i);return i.delete(),a},o.CrossSection.prototype.bounds=function(){const i=this._Bounds();return{min:["x","y"].map(a=>i.min[a]),max:["x","y"].map(a=>i.max[a])}},o.CrossSection.prototype.offset=function(i,a="Square",f=2,p=0){return this._Offset(i,v(a),f,p)},o.CrossSection.prototype.simplify=function(i=1e-6){return this._Simplify(i)},o.CrossSection.prototype.extrude=function(i,a=0,f=0,p=[1,1],_=!1){p=u([p]);const b=o._Extrude(this._ToPolygons(),i,a,f,p);return _?b.translate([0,0,-i/2]):b},o.CrossSection.prototype.revolve=function(i=0,a=360){return o._Revolve(this._ToPolygons(),i,a)},o.CrossSection.prototype.add=function(i){return this._add(h(i))},o.CrossSection.prototype.subtract=function(i){return this._subtract(h(i))},o.CrossSection.prototype.intersect=function(i){return this._intersect(h(i))},o.CrossSection.prototype.toPolygons=function(){const i=this._ToPolygons(),a=t(i,f=>[f.x,f.y]);return i.delete(),a},o.Manifold.prototype.smoothOut=function(i=60,a=0){return this._SmoothOut(i,a)},o.Manifold.prototype.warp=function(i){const a=ge(function(_){const b=I(_,"double"),w=I(_+8,"double"),M=I(_+16,"double"),A=[b,w,M];i(A),re(_,A[0],"double"),re(_+8,A[1],"double"),re(_+16,A[2],"double")},"vi"),f=this._Warp(a);be(a);const p=f.status();if(p.value!==0)throw new o.ManifoldError(p.value);return f},o.Manifold.prototype.calculateNormals=function(i,a=60){return this._CalculateNormals(i,a)},o.Manifold.prototype.setProperties=function(i,a){const f=this.numProp(),p=ge(function(b,w,M){const A=[];for(let C=0;C<i;++C)A[C]=I(b+8*C,"double");const se=[];for(let C=0;C<3;++C)se[C]=I(w+8*C,"double");const ae=[];for(let C=0;C<f;++C)ae[C]=I(M+8*C,"double");a(A,se,ae);for(let C=0;C<i;++C)re(b+8*C,A[C],"double")},"viii"),_=this._SetProperties(i,p);return be(p),_},o.Manifold.prototype.translate=function(...i){return this._Translate(l(i))},o.Manifold.prototype.rotate=function(i,a,f){return Array.isArray(i)?this._Rotate(...i):this._Rotate(i,a||0,f||0)},o.Manifold.prototype.scale=function(i){return typeof i=="number"?this._Scale({x:i,y:i,z:i}):this._Scale(l([i]))},o.Manifold.prototype.mirror=function(i){return this._Mirror(l([i]))},o.Manifold.prototype.trimByPlane=function(i,a=0){return this._TrimByPlane(l([i]),a)},o.Manifold.prototype.slice=function(i=0){const a=this._Slice(i),f=new d(a,c("Positive"));return s(a),f},o.Manifold.prototype.project=function(){const i=this._Project(),a=new d(i,c("Positive"));return s(i),a},o.Manifold.prototype.split=function(i){const a=this._Split(i),f=r(a);return a.delete(),f},o.Manifold.prototype.splitByPlane=function(i,a=0){const f=this._SplitByPlane(l([i]),a),p=r(f);return f.delete(),p},o.Manifold.prototype.decompose=function(){const i=this._Decompose(),a=r(i);return i.delete(),a},o.Manifold.prototype.boundingBox=function(){const i=this._boundingBox();return{min:["x","y","z"].map(a=>i.min[a]),max:["x","y","z"].map(a=>i.max[a])}};class y{constructor({numProp:a=3,triVerts:f=new Uint32Array,vertProperties:p=new Float32Array,mergeFromVert:_,mergeToVert:b,runIndex:w,runOriginalID:M,faceID:A,halfedgeTangent:se,runTransform:ae}={}){this.numProp=a,this.triVerts=f,this.vertProperties=p,this.mergeFromVert=_,this.mergeToVert=b,this.runIndex=w,this.runOriginalID=M,this.faceID=A,this.halfedgeTangent=se,this.runTransform=ae}get numTri(){return this.triVerts.length/3}get numVert(){return this.vertProperties.length/this.numProp}get numRun(){return this.runOriginalID.length}merge(){const{changed:a,mesh:f}=o._Merge(this);return Object.assign(this,{...f}),a}verts(a){return this.triVerts.subarray(3*a,3*(a+1))}position(a){return this.vertProperties.subarray(this.numProp*a,this.numProp*a+3)}extras(a){return this.vertProperties.subarray(this.numProp*a+3,this.numProp*(a+1))}tangent(a){return this.halfedgeTangent.subarray(4*a,4*(a+1))}transform(a){const f=new Array(16);for(const p of[0,1,2,3])for(const _ of[0,1,2])f[4*p+_]=this.runTransform[12*a+3*p+_];return f[15]=1,f}}o.Mesh=y,o.Manifold.prototype.getMesh=function(i=-1){return new y(this._GetMeshJS(i))},o.ManifoldError=function(a,...f){let p="Unknown error";switch(a){case o.status.NonFiniteVertex.value:p="Non-finite vertex";break;case o.status.NotManifold.value:p="Not manifold";break;case o.status.VertexOutOfBounds.value:p="Vertex index out of bounds";break;case o.status.PropertiesWrongLength.value:p="Properties have wrong length";break;case o.status.MissingPositionProperties.value:p="Less than three properties";break;case o.status.MergeVectorsDifferentLengths.value:p="Merge vectors have different lengths";break;case o.status.MergeIndexOutOfBounds.value:p="Merge index out of bounds";break;case o.status.TransformWrongLength.value:p="Transform vector has wrong length";break;case o.status.RunIndexWrongLength.value:p="Run index vector has wrong length";break;case o.status.FaceIDWrongLength.value:p="Face ID vector has wrong length";case o.status.InvalidConstruction.value:p="Manifold constructed with invalid parameters"}const _=Error.apply(this,[p,...f]);_.name=this.name="ManifoldError",this.message=_.message,this.stack=_.stack,this.code=a},o.ManifoldError.prototype=Object.create(Error.prototype,{constructor:{value:o.ManifoldError,writable:!0,configurable:!0}}),o.CrossSection=function(i,a="Positive"){const f=n(i),p=new d(f,c(a));return s(f),p},o.CrossSection.ofPolygons=function(i,a="Positive"){return new o.CrossSection(i,a)},o.CrossSection.square=function(...i){let a;i.length==0?a={x:1,y:1}:typeof i[0]=="number"?a={x:i[0],y:i[0]}:a=u(i);const f=i[1]||!1;return o._Square(a,f)},o.CrossSection.circle=function(i,a=0){return o._Circle(i,a)};function g(i){return function(...a){a.length==1&&(a=a[0]);const f=new o.Vector_crossSection;for(const _ of a)f.push_back(h(_));const p=o["_crossSection"+i](f);return f.delete(),p}}o.CrossSection.compose=g("Compose"),o.CrossSection.union=g("UnionN"),o.CrossSection.difference=g("DifferenceN"),o.CrossSection.intersection=g("IntersectionN");function T(i,a){e(i,a,f=>f instanceof Array?{x:f[0],y:f[1]}:f)}o.CrossSection.hull=function(...i){i.length==1&&(i=i[0]);let a=new o.Vector_vec2;for(const p of i)if(p instanceof d)o._crossSectionCollectVertices(a,p);else if(p instanceof Array&&p.length==2&&typeof p[0]=="number")a.push_back({x:p[0],y:p[1]});else if(p.x)a.push_back(p);else{const b=p[0].length==2&&typeof p[0][0]=="number"||p[0].x?[p]:p;for(const w of b)T(a,w)}const f=o._crossSectionHullPoints(a);return a.delete(),f},o.CrossSection.prototype=Object.create(d.prototype),Object.defineProperty(o.CrossSection,Symbol.hasInstance,{get:()=>i=>i instanceof d});const $=o.Manifold;o.Manifold=function(i){const a=new $(i),f=a.status();if(f.value!==0)throw new o.ManifoldError(f.value);return a},o.Manifold.ofMesh=function(i){return new o.Manifold(i)},o.Manifold.tetrahedron=function(){return o._Tetrahedron()},o.Manifold.cube=function(...i){let a;i.length==0?a={x:1,y:1,z:1}:typeof i[0]=="number"?a={x:i[0],y:i[0],z:i[0]}:a=l(i);const f=i[1]||!1;return o._Cube(a,f)},o.Manifold.cylinder=function(i,a,f=-1,p=0,_=!1){return o._Cylinder(i,a,f,p,_)},o.Manifold.sphere=function(i,a=0){return o._Sphere(i,a)},o.Manifold.smooth=function(i,a=[]){const f=new o.Vector_smoothness;e(f,a);const p=o._Smooth(i,f);return f.delete(),p},o.Manifold.extrude=function(i,a,f=0,p=0,_=[1,1],b=!1){return(i instanceof d?i:o.CrossSection(i,"Positive")).extrude(a,f,p,_,b)},o.Manifold.revolve=function(i,a=0,f=360){return(i instanceof d?i:o.CrossSection(i,"Positive")).revolve(a,f)},o.Manifold.reserveIDs=function(i){return o._ReserveIDs(i)},o.Manifold.compose=function(i){const a=new o.Vector_manifold;e(a,i);const f=o._manifoldCompose(a);return a.delete(),f};function j(i){return function(...a){a.length==1&&(a=a[0]);const f=new o.Vector_manifold;for(const _ of a)f.push_back(_);const p=o["_manifold"+i+"N"](f);return f.delete(),p}}o.Manifold.union=j("Union"),o.Manifold.difference=j("Difference"),o.Manifold.intersection=j("Intersection"),o.Manifold.levelSet=function(i,a,f,p=0,_=-1){const b={min:{x:a.min[0],y:a.min[1],z:a.min[2]},max:{x:a.max[0],y:a.max[1],z:a.max[2]}},w=ge(function(A){const se=I(A,"double"),ae=I(A+8,"double"),C=I(A+16,"double");return i([se,ae,C])},"di"),M=o._LevelSet(w,b,f,p,_);return be(w),M};function x(i,a){e(i,a,f=>f instanceof Array?{x:f[0],y:f[1],z:f[2]}:f)}o.Manifold.hull=function(...i){i.length==1&&(i=i[0]);let a=new o.Vector_vec3;for(const p of i)p instanceof $?o._manifoldCollectVertices(a,p):p instanceof Array&&p.length==3&&typeof p[0]=="number"?a.push_back({x:p[0],y:p[1],z:p[2]}):p.x?a.push_back(p):x(a,p);const f=o._manifoldHullPoints(a);return a.delete(),f},o.Manifold.prototype=Object.create($.prototype),Object.defineProperty(o.Manifold,Symbol.hasInstance,{get:()=>i=>i instanceof $}),o.triangulate=function(i,a=-1,f=!0){const p=n(i),_=r(o._Triangulate(p,a,f),b=>[b[0],b[1],b[2]]);return s(p),_}};var nr=Object.assign({},o),O="";function jr(e){return o.locateFile?o.locateFile(e,O):O+e}var xe,we;if(V){var ir=H("fs"),or=H("path");O=H("url").fileURLToPath(new URL("./",self.location)),we=e=>{e=Ae(e)?new URL(e):or.normalize(e);var r=ir.readFileSync(e);return r},xe=(e,r=!0)=>(e=Ae(e)?new URL(e):or.normalize(e),new Promise((t,n)=>{ir.readFile(e,r?void 0:"utf8",(s,u)=>{s?n(s):t(r?u.buffer:u)})})),!o.thisProgram&&process.argv.length>1&&process.argv[1].replace(/\\/g,"/"),process.argv.slice(2)}else(je||$e)&&($e?O=self.location.href:typeof document<"u"&&document.currentScript&&(O=document.currentScript.src),ue&&(O=ue),O.startsWith("blob:")?O="":O=O.substr(0,O.replace(/[?#].*/,"").lastIndexOf("/")+1),$e&&(we=e=>{var r=new XMLHttpRequest;return r.open("GET",e,!1),r.responseType="arraybuffer",r.send(null),new Uint8Array(r.response)}),xe=e=>Ae(e)?new Promise((r,t)=>{var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="arraybuffer",n.onload=()=>{(n.status==200||n.status==0&&n.response)&&t(n.response),r(n.status)},n.onerror=r,n.send(null)}):fetch(e,{credentials:"same-origin"}).then(r=>r.ok?r.arrayBuffer():Promise.reject(new Error(r.status+" : "+r.url))));o.print||console.log.bind(console);var fe=o.printErr||console.error.bind(console);Object.assign(o,nr),nr=null,o.arguments&&o.arguments,o.thisProgram&&o.thisProgram,o.quit&&o.quit;var le;o.wasmBinary&&(le=o.wasmBinary);var Ce,sr=!1,W,E,q,ve,G,P,Te,Se;function ar(){var e=Ce.buffer;o.HEAP8=W=new Int8Array(e),o.HEAP16=q=new Int16Array(e),o.HEAPU8=E=new Uint8Array(e),o.HEAPU16=ve=new Uint16Array(e),o.HEAP32=G=new Int32Array(e),o.HEAPU32=P=new Uint32Array(e),o.HEAPF32=Te=new Float32Array(e),o.HEAPF64=Se=new Float64Array(e)}var ur=[],cr=[],fr=[];function xr(){if(o.preRun)for(typeof o.preRun=="function"&&(o.preRun=[o.preRun]);o.preRun.length;)Hr(o.preRun.shift());Be(ur)}function Br(){Be(cr)}function Lr(){if(o.postRun)for(typeof o.postRun=="function"&&(o.postRun=[o.postRun]);o.postRun.length;)Nr(o.postRun.shift());Be(fr)}function Hr(e){ur.unshift(e)}function zr(e){cr.unshift(e)}function Nr(e){fr.unshift(e)}var K=0,de=null;function qr(e){K++,o.monitorRunDependencies?.(K)}function Gr(e){if(K--,o.monitorRunDependencies?.(K),K==0&&de){var r=de;de=null,r()}}function ee(e){o.onAbort?.(e),e="Aborted("+e+")",fe(e),sr=!0,e+=". Build with -sASSERTIONS for more info.";var r=new WebAssembly.RuntimeError(e);throw F(r),r}var Jr="data:application/octet-stream;base64,",lr=e=>e.startsWith(Jr),Ae=e=>e.startsWith("file://");function Kr(){if(o.locateFile){var e="manifold.wasm";return lr(e)?e:jr(e)}return new URL("/assets/manifold.wasm",self.location).href}var Fe;function vr(e){if(e==Fe&&le)return new Uint8Array(le);if(we)return we(e);throw"both async and sync fetching of the wasm failed"}function Xr(e){return le?Promise.resolve().then(()=>vr(e)):xe(e).then(r=>new Uint8Array(r),()=>vr(e))}function dr(e,r,t){return Xr(e).then(n=>WebAssembly.instantiate(n,r)).then(t,n=>{fe(`failed to asynchronously prepare wasm: ${n}`),ee(n)})}function Zr(e,r,t,n){return!e&&typeof WebAssembly.instantiateStreaming=="function"&&!lr(r)&&!Ae(r)&&!V&&typeof fetch=="function"?fetch(r,{credentials:"same-origin"}).then(s=>{var u=WebAssembly.instantiateStreaming(s,t);return u.then(n,function(l){return fe(`wasm streaming compile failed: ${l}`),fe("falling back to ArrayBuffer instantiation"),dr(r,t,n)})}):dr(r,t,n)}function Qr(){return{a:kn}}function Yr(){var e=Qr();function r(n,s){return U=n.exports,U=Vn(U),Ce=U.J,ar(),oe=U.M,zr(U.K),Gr(),U}qr();function t(n){r(n.instance)}if(o.instantiateWasm)try{return o.instantiateWasm(e,r)}catch(n){fe(`Module.instantiateWasm callback failed with error: ${n}`),F(n)}return Fe||(Fe=Kr()),Zr(le,Fe,e,t).catch(F),{}}var Be=e=>{for(;e.length>0;)e.shift()(o)};function I(e,r="i8"){switch(r.endsWith("*")&&(r="*"),r){case"i1":return W[e>>>0];case"i8":return W[e>>>0];case"i16":return q[e>>>1>>>0];case"i32":return G[e>>>2>>>0];case"i64":ee("to do getValue(i64) use WASM_BIGINT");case"float":return Te[e>>>2>>>0];case"double":return Se[e>>>3>>>0];case"*":return P[e>>>2>>>0];default:ee(`invalid type for getValue: ${r}`)}}o.noExitRuntime;function re(e,r,t="i8"){switch(t.endsWith("*")&&(t="*"),t){case"i1":W[e>>>0]=r;break;case"i8":W[e>>>0]=r;break;case"i16":q[e>>>1>>>0]=r;break;case"i32":G[e>>>2>>>0]=r;break;case"i64":ee("to do setValue(i64) use WASM_BIGINT");case"float":Te[e>>>2>>>0]=r;break;case"double":Se[e>>>3>>>0]=r;break;case"*":P[e>>>2>>>0]=r;break;default:ee(`invalid type for setValue: ${t}`)}}class et{constructor(r){this.excPtr=r,this.ptr=r-24}set_type(r){P[this.ptr+4>>>2>>>0]=r}get_type(){return P[this.ptr+4>>>2>>>0]}set_destructor(r){P[this.ptr+8>>>2>>>0]=r}get_destructor(){return P[this.ptr+8>>>2>>>0]}set_caught(r){r=r?1:0,W[this.ptr+12>>>0]=r}get_caught(){return W[this.ptr+12>>>0]!=0}set_rethrown(r){r=r?1:0,W[this.ptr+13>>>0]=r}get_rethrown(){return W[this.ptr+13>>>0]!=0}init(r,t){this.set_adjusted_ptr(0),this.set_type(r),this.set_destructor(t)}set_adjusted_ptr(r){P[this.ptr+16>>>2>>>0]=r}get_adjusted_ptr(){return P[this.ptr+16>>>2>>>0]}get_exception_ptr(){var r=Ir(this.get_type());if(r)return P[this.excPtr>>>2>>>0];var t=this.get_adjusted_ptr();return t!==0?t:this.excPtr}}var pr=0;function rt(e,r,t){e>>>=0,r>>>=0,t>>>=0;var n=new et(e);throw n.init(r,t),pr=e,pr}var tt=()=>{ee("")},Re={},Le=e=>{for(;e.length;){var r=e.pop(),t=e.pop();t(r)}};function pe(e){return this.fromWireType(P[e>>>2>>>0])}var te={},X={},Ee={},hr,Me=e=>{throw new hr(e)},Z=(e,r,t)=>{e.forEach(function(c){Ee[c]=r});function n(c){var v=t(c);v.length!==e.length&&Me("Mismatched type converter count");for(var d=0;d<e.length;++d)B(e[d],v[d])}var s=new Array(r.length),u=[],l=0;r.forEach((c,v)=>{X.hasOwnProperty(c)?s[v]=X[c]:(u.push(c),te.hasOwnProperty(c)||(te[c]=[]),te[c].push(()=>{s[v]=X[c],++l,l===u.length&&n(s)}))}),u.length===0&&n(s)},nt=function(e){e>>>=0;var r=Re[e];delete Re[e];var t=r.rawConstructor,n=r.rawDestructor,s=r.fields,u=s.map(l=>l.getterReturnType).concat(s.map(l=>l.setterArgumentType));Z([e],u,l=>{var c={};return s.forEach((v,d)=>{var h=v.fieldName,y=l[d],g=v.getter,T=v.getterContext,$=l[d+s.length],j=v.setter,x=v.setterContext;c[h]={read:i=>y.fromWireType(g(T,i)),write:(i,a)=>{var f=[];j(x,i,$.toWireType(f,a)),Le(f)}}}),[{name:r.name,fromWireType:v=>{var d={};for(var h in c)d[h]=c[h].read(v);return n(v),d},toWireType:(v,d)=>{for(var h in c)if(!(h in d))throw new TypeError(`Missing field: "${h}"`);var y=t();for(h in c)c[h].write(y,d[h]);return v!==null&&v.push(n,y),y},argPackAdvance:L,readValueFromPointer:pe,destructorFunction:n}]})};function it(e,r,t,n,s){}var ot=()=>{for(var e=new Array(256),r=0;r<256;++r)e[r]=String.fromCharCode(r);yr=e},yr,R=e=>{for(var r="",t=e;E[t>>>0];)r+=yr[E[t++>>>0]];return r},ne,m=e=>{throw new ne(e)};function st(e,r,t={}){var n=r.name;if(e||m(`type "${n}" must have a positive integer typeid pointer`),X.hasOwnProperty(e)){if(t.ignoreDuplicateRegistrations)return;m(`Cannot register type '${n}' twice`)}if(X[e]=r,delete Ee[e],te.hasOwnProperty(e)){var s=te[e];delete te[e],s.forEach(u=>u())}}function B(e,r,t={}){if(!("argPackAdvance"in r))throw new TypeError("registerType registeredInstance requires argPackAdvance");return st(e,r,t)}var L=8;function at(e,r,t,n){e>>>=0,r>>>=0,r=R(r),B(e,{name:r,fromWireType:function(s){return!!s},toWireType:function(s,u){return u?t:n},argPackAdvance:L,readValueFromPointer:function(s){return this.fromWireType(E[s>>>0])},destructorFunction:null})}var ut=e=>({count:e.count,deleteScheduled:e.deleteScheduled,preservePointerOnDelete:e.preservePointerOnDelete,ptr:e.ptr,ptrType:e.ptrType,smartPtr:e.smartPtr,smartPtrType:e.smartPtrType}),He=e=>{function r(t){return t.$$.ptrType.registeredClass.name}m(r(e)+" instance already deleted")},ze=!1,_r=e=>{},ct=e=>{e.smartPtr?e.smartPtrType.rawDestructor(e.smartPtr):e.ptrType.registeredClass.rawDestructor(e.ptr)},mr=e=>{e.count.value-=1;var r=e.count.value===0;r&&ct(e)},gr=(e,r,t)=>{if(r===t)return e;if(t.baseClass===void 0)return null;var n=gr(e,r,t.baseClass);return n===null?null:t.downcast(n)},br={},ft=()=>Object.keys(_e).length,lt=()=>{var e=[];for(var r in _e)_e.hasOwnProperty(r)&&e.push(_e[r]);return e},he=[],Ne=()=>{for(;he.length;){var e=he.pop();e.$$.deleteScheduled=!1,e.delete()}},ye,vt=e=>{ye=e,he.length&&ye&&ye(Ne)},dt=()=>{o.getInheritedInstanceCount=ft,o.getLiveInheritedInstances=lt,o.flushPendingDeletes=Ne,o.setDelayFunction=vt},_e={},pt=(e,r)=>{for(r===void 0&&m("ptr should not be undefined");e.baseClass;)r=e.upcast(r),e=e.baseClass;return r},ht=(e,r)=>(r=pt(e,r),_e[r]),We=(e,r)=>{(!r.ptrType||!r.ptr)&&Me("makeClassHandle requires ptr and ptrType");var t=!!r.smartPtrType,n=!!r.smartPtr;return t!==n&&Me("Both smartPtrType and smartPtr must be specified"),r.count={value:1},me(Object.create(e,{$$:{value:r,writable:!0}}))};function yt(e){var r=this.getPointee(e);if(!r)return this.destructor(e),null;var t=ht(this.registeredClass,r);if(t!==void 0){if(t.$$.count.value===0)return t.$$.ptr=r,t.$$.smartPtr=e,t.clone();var n=t.clone();return this.destructor(e),n}function s(){return this.isSmartPointer?We(this.registeredClass.instancePrototype,{ptrType:this.pointeeType,ptr:r,smartPtrType:this,smartPtr:e}):We(this.registeredClass.instancePrototype,{ptrType:this,ptr:e})}var u=this.registeredClass.getActualType(r),l=br[u];if(!l)return s.call(this);var c;this.isConst?c=l.constPointerType:c=l.pointerType;var v=gr(r,this.registeredClass,c.registeredClass);return v===null?s.call(this):this.isSmartPointer?We(c.registeredClass.instancePrototype,{ptrType:c,ptr:v,smartPtrType:this,smartPtr:e}):We(c.registeredClass.instancePrototype,{ptrType:c,ptr:v})}var me=e=>typeof FinalizationRegistry>"u"?(me=r=>r,e):(ze=new FinalizationRegistry(r=>{mr(r.$$)}),me=r=>{var t=r.$$,n=!!t.smartPtr;if(n){var s={$$:t};ze.register(r,s,r)}return r},_r=r=>ze.unregister(r),me(e)),_t=()=>{Object.assign(ke.prototype,{isAliasOf(e){if(!(this instanceof ke)||!(e instanceof ke))return!1;var r=this.$$.ptrType.registeredClass,t=this.$$.ptr;e.$$=e.$$;for(var n=e.$$.ptrType.registeredClass,s=e.$$.ptr;r.baseClass;)t=r.upcast(t),r=r.baseClass;for(;n.baseClass;)s=n.upcast(s),n=n.baseClass;return r===n&&t===s},clone(){if(this.$$.ptr||He(this),this.$$.preservePointerOnDelete)return this.$$.count.value+=1,this;var e=me(Object.create(Object.getPrototypeOf(this),{$$:{value:ut(this.$$)}}));return e.$$.count.value+=1,e.$$.deleteScheduled=!1,e},delete(){this.$$.ptr||He(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&m("Object already scheduled for deletion"),_r(this),mr(this.$$),this.$$.preservePointerOnDelete||(this.$$.smartPtr=void 0,this.$$.ptr=void 0)},isDeleted(){return!this.$$.ptr},deleteLater(){return this.$$.ptr||He(this),this.$$.deleteScheduled&&!this.$$.preservePointerOnDelete&&m("Object already scheduled for deletion"),he.push(this),he.length===1&&ye&&ye(Ne),this.$$.deleteScheduled=!0,this}})};function ke(){}var ie=(e,r)=>Object.defineProperty(r,"name",{value:e}),Pr=(e,r,t)=>{if(e[r].overloadTable===void 0){var n=e[r];e[r]=function(...s){return e[r].overloadTable.hasOwnProperty(s.length)||m(`Function '${t}' called with an invalid number of arguments (${s.length}) - expects one of (${e[r].overloadTable})!`),e[r].overloadTable[s.length].apply(this,s)},e[r].overloadTable=[],e[r].overloadTable[n.argCount]=n}},qe=(e,r,t)=>{o.hasOwnProperty(e)?((t===void 0||o[e].overloadTable!==void 0&&o[e].overloadTable[t]!==void 0)&&m(`Cannot register public name '${e}' twice`),Pr(o,e,e),o.hasOwnProperty(t)&&m(`Cannot register multiple overloads of a function with the same number of arguments (${t})!`),o[e].overloadTable[t]=r):(o[e]=r,t!==void 0&&(o[e].numArguments=t))},mt=48,gt=57,bt=e=>{if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var r=e.charCodeAt(0);return r>=mt&&r<=gt?`_${e}`:e};function Pt(e,r,t,n,s,u,l,c){this.name=e,this.constructor=r,this.instancePrototype=t,this.rawDestructor=n,this.baseClass=s,this.getActualType=u,this.upcast=l,this.downcast=c,this.pureVirtualFunctions=[]}var Ge=(e,r,t)=>{for(;r!==t;)r.upcast||m(`Expected null or instance of ${t.name}, got an instance of ${r.name}`),e=r.upcast(e),r=r.baseClass;return e};function $t(e,r){if(r===null)return this.isReference&&m(`null is not a valid ${this.name}`),0;r.$$||m(`Cannot pass "${Qe(r)}" as a ${this.name}`),r.$$.ptr||m(`Cannot pass deleted object as a pointer of type ${this.name}`);var t=r.$$.ptrType.registeredClass,n=Ge(r.$$.ptr,t,this.registeredClass);return n}function wt(e,r){var t;if(r===null)return this.isReference&&m(`null is not a valid ${this.name}`),this.isSmartPointer?(t=this.rawConstructor(),e!==null&&e.push(this.rawDestructor,t),t):0;(!r||!r.$$)&&m(`Cannot pass "${Qe(r)}" as a ${this.name}`),r.$$.ptr||m(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.isConst&&r.$$.ptrType.isConst&&m(`Cannot convert argument of type ${r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name} to parameter type ${this.name}`);var n=r.$$.ptrType.registeredClass;if(t=Ge(r.$$.ptr,n,this.registeredClass),this.isSmartPointer)switch(r.$$.smartPtr===void 0&&m("Passing raw pointer to smart pointer is illegal"),this.sharingPolicy){case 0:r.$$.smartPtrType===this?t=r.$$.smartPtr:m(`Cannot convert argument of type ${r.$$.smartPtrType?r.$$.smartPtrType.name:r.$$.ptrType.name} to parameter type ${this.name}`);break;case 1:t=r.$$.smartPtr;break;case 2:if(r.$$.smartPtrType===this)t=r.$$.smartPtr;else{var s=r.clone();t=this.rawShare(t,S.toHandle(()=>s.delete())),e!==null&&e.push(this.rawDestructor,t)}break;default:m("Unsupporting sharing policy")}return t}function Ct(e,r){if(r===null)return this.isReference&&m(`null is not a valid ${this.name}`),0;r.$$||m(`Cannot pass "${Qe(r)}" as a ${this.name}`),r.$$.ptr||m(`Cannot pass deleted object as a pointer of type ${this.name}`),r.$$.ptrType.isConst&&m(`Cannot convert argument of type ${r.$$.ptrType.name} to parameter type ${this.name}`);var t=r.$$.ptrType.registeredClass,n=Ge(r.$$.ptr,t,this.registeredClass);return n}var Tt=()=>{Object.assign(Ve.prototype,{getPointee(e){return this.rawGetPointee&&(e=this.rawGetPointee(e)),e},destructor(e){this.rawDestructor?.(e)},argPackAdvance:L,readValueFromPointer:pe,fromWireType:yt})};function Ve(e,r,t,n,s,u,l,c,v,d,h){this.name=e,this.registeredClass=r,this.isReference=t,this.isConst=n,this.isSmartPointer=s,this.pointeeType=u,this.sharingPolicy=l,this.rawGetPointee=c,this.rawConstructor=v,this.rawShare=d,this.rawDestructor=h,!s&&r.baseClass===void 0?n?(this.toWireType=$t,this.destructorFunction=null):(this.toWireType=Ct,this.destructorFunction=null):this.toWireType=wt}var $r=(e,r,t)=>{o.hasOwnProperty(e)||Me("Replacing nonexistent public symbol"),o[e].overloadTable!==void 0&&t!==void 0?o[e].overloadTable[t]=r:(o[e]=r,o[e].argCount=t)},St=(e,r,t)=>{e=e.replace(/p/g,"i");var n=o["dynCall_"+e];return n(r,...t)},oe,Oe=e=>oe.get(e),At=(e,r,t=[])=>{if(e.includes("j"))return St(e,r,t);var n=Oe(r)(...t);return e[0]=="p"?n>>>0:n},wr=(e,r)=>(...t)=>At(e,r,t),D=(e,r)=>{e=R(e);function t(){return e.includes("j")||e.includes("p")?wr(e,r):Oe(r)}var n=t();return typeof n!="function"&&m(`unknown function pointer with signature ${e}: ${r}`),n},Ft=(e,r)=>{var t=ie(r,function(n){this.name=r,this.message=n;var s=new Error(n).stack;s!==void 0&&(this.stack=this.toString()+`
`+s.replace(/^Error(:[^\n]*)?\n/,""))});return t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},t},Cr,Tr=e=>{var r=Or(e),t=R(r);return N(r),t},Ie=(e,r)=>{var t=[],n={};function s(u){if(!n[u]&&!X[u]){if(Ee[u]){Ee[u].forEach(s);return}t.push(u),n[u]=!0}}throw r.forEach(s),new Cr(`${e}: `+t.map(Tr).join([", "]))};function Rt(e,r,t,n,s,u,l,c,v,d,h,y,g){e>>>=0,r>>>=0,t>>>=0,n>>>=0,s>>>=0,u>>>=0,l>>>=0,c>>>=0,v>>>=0,d>>>=0,h>>>=0,y>>>=0,g>>>=0,h=R(h),u=D(s,u),c&&=D(l,c),d&&=D(v,d),g=D(y,g);var T=bt(h);qe(T,function(){Ie(`Cannot construct ${h} due to unbound types`,[n])}),Z([e,r,t],n?[n]:[],$=>{$=$[0];var j,x;n?(j=$.registeredClass,x=j.instancePrototype):x=ke.prototype;var i=ie(h,function(...w){if(Object.getPrototypeOf(this)!==a)throw new ne("Use 'new' to construct "+h);if(f.constructor_body===void 0)throw new ne(h+" has no accessible constructor");var M=f.constructor_body[w.length];if(M===void 0)throw new ne(`Tried to invoke ctor of ${h} with invalid number of parameters (${w.length}) - expected (${Object.keys(f.constructor_body).toString()}) parameters instead!`);return M.apply(this,w)}),a=Object.create(x,{constructor:{value:i}});i.prototype=a;var f=new Pt(h,i,a,g,j,u,c,d);f.baseClass&&(f.baseClass.__derivedClasses??=[],f.baseClass.__derivedClasses.push(f));var p=new Ve(h,f,!0,!1,!1),_=new Ve(h+"*",f,!1,!1,!1),b=new Ve(h+" const*",f,!1,!0,!1);return br[e]={pointerType:_,constPointerType:b},$r(T,i),[p,_,b]})}var Je=(e,r)=>{for(var t=[],n=0;n<e;n++)t.push(P[r+n*4>>>2>>>0]);return t};function Sr(e){for(var r=1;r<e.length;++r)if(e[r]!==null&&e[r].destructorFunction===void 0)return!0;return!1}function Ar(e,r){if(!(e instanceof Function))throw new TypeError(`new_ called with constructor type ${typeof e} which is not a function`);var t=ie(e.name||"unknownFunctionName",function(){});t.prototype=e.prototype;var n=new t,s=e.apply(n,r);return s instanceof Object?s:n}function Et(e,r,t,n){for(var s=Sr(e),u=e.length,l="",c="",v=0;v<u-2;++v)l+=(v!==0?", ":"")+"arg"+v,c+=(v!==0?", ":"")+"arg"+v+"Wired";var d=`
        return function (${l}) {
        if (arguments.length !== ${u-2}) {
          throwBindingError('function ' + humanName + ' called with ' + arguments.length + ' arguments, expected ${u-2}');
        }`;s&&(d+=`var destructors = [];
`);var h=s?"destructors":"null",y=["humanName","throwBindingError","invoker","fn","runDestructors","retType","classParam"];r&&(d+="var thisWired = classParam['toWireType']("+h+`, this);
`);for(var v=0;v<u-2;++v)d+="var arg"+v+"Wired = argType"+v+"['toWireType']("+h+", arg"+v+`);
`,y.push("argType"+v);if(r&&(c="thisWired"+(c.length>0?", ":"")+c),d+=(t||n?"var rv = ":"")+"invoker(fn"+(c.length>0?", ":"")+c+`);
`,s)d+=`runDestructors(destructors);
`;else for(var v=r?1:2;v<e.length;++v){var g=v===1?"thisWired":"arg"+(v-2)+"Wired";e[v].destructorFunction!==null&&(d+=`${g}_dtor(${g});
`,y.push(`${g}_dtor`))}return t&&(d+=`var ret = retType['fromWireType'](rv);
return ret;
`),d+=`}
`,[y,d]}function Ke(e,r,t,n,s,u){var l=r.length;l<2&&m("argTypes array size mismatch! Must at least get return value and 'this' types!");for(var c=r[1]!==null&&t!==null,v=Sr(r),d=r[0].name!=="void",h=[e,m,n,s,Le,r[0],r[1]],y=0;y<l-2;++y)h.push(r[y+2]);if(!v)for(var y=c?1:2;y<r.length;++y)r[y].destructorFunction!==null&&h.push(r[y].destructorFunction);let[g,T]=Et(r,c,d,u);g.push(T);var $=Ar(Function,g)(...h);return ie(e,$)}var Mt=function(e,r,t,n,s,u){e>>>=0,t>>>=0,n>>>=0,s>>>=0,u>>>=0;var l=Je(r,t);s=D(n,s),Z([],[e],c=>{c=c[0];var v=`constructor ${c.name}`;if(c.registeredClass.constructor_body===void 0&&(c.registeredClass.constructor_body=[]),c.registeredClass.constructor_body[r-1]!==void 0)throw new ne(`Cannot register multiple constructors with identical number of parameters (${r-1}) for class '${c.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return c.registeredClass.constructor_body[r-1]=()=>{Ie(`Cannot construct ${c.name} due to unbound types`,l)},Z([],l,d=>(d.splice(1,0,null),c.registeredClass.constructor_body[r-1]=Ke(v,d,null,s,u),[])),[]})},Fr=e=>{e=e.trim();const r=e.indexOf("(");return r!==-1?e.substr(0,r):e},Wt=function(e,r,t,n,s,u,l,c,v){e>>>=0,r>>>=0,n>>>=0,s>>>=0,u>>>=0,l>>>=0;var d=Je(t,n);r=R(r),r=Fr(r),u=D(s,u),Z([],[e],h=>{h=h[0];var y=`${h.name}.${r}`;r.startsWith("@@")&&(r=Symbol[r.substring(2)]),c&&h.registeredClass.pureVirtualFunctions.push(r);function g(){Ie(`Cannot call ${y} due to unbound types`,d)}var T=h.registeredClass.instancePrototype,$=T[r];return $===void 0||$.overloadTable===void 0&&$.className!==h.name&&$.argCount===t-2?(g.argCount=t-2,g.className=h.name,T[r]=g):(Pr(T,r,y),T[r].overloadTable[t-2]=g),Z([],d,j=>{var x=Ke(y,j,h,u,l,v);return T[r].overloadTable===void 0?(x.argCount=t-2,T[r]=x):T[r].overloadTable[t-2]=x,[]}),[]})},Xe=[],z=[];function Ze(e){e>>>=0,e>9&&--z[e+1]===0&&(z[e]=void 0,Xe.push(e))}var kt=()=>z.length/2-5-Xe.length,Vt=()=>{z.push(0,1,void 0,1,null,1,!0,1,!1,1),o.count_emval_handles=kt},S={toValue:e=>(e||m("Cannot use deleted val. handle = "+e),z[e]),toHandle:e=>{switch(e){case void 0:return 2;case null:return 4;case!0:return 6;case!1:return 8;default:{const r=Xe.pop()||z.length;return z[r]=e,z[r+1]=1,r}}}},Ot={name:"emscripten::val",fromWireType:e=>{var r=S.toValue(e);return Ze(e),r},toWireType:(e,r)=>S.toHandle(r),argPackAdvance:L,readValueFromPointer:pe,destructorFunction:null};function Rr(e){return e>>>=0,B(e,Ot)}var It=(e,r,t)=>{switch(r){case 1:return t?function(n){return this.fromWireType(W[n>>>0])}:function(n){return this.fromWireType(E[n>>>0])};case 2:return t?function(n){return this.fromWireType(q[n>>>1>>>0])}:function(n){return this.fromWireType(ve[n>>>1>>>0])};case 4:return t?function(n){return this.fromWireType(G[n>>>2>>>0])}:function(n){return this.fromWireType(P[n>>>2>>>0])};default:throw new TypeError(`invalid integer width (${r}): ${e}`)}};function Dt(e,r,t,n){e>>>=0,r>>>=0,t>>>=0,r=R(r);function s(){}s.values={},B(e,{name:r,constructor:s,fromWireType:function(u){return this.constructor.values[u]},toWireType:(u,l)=>l.value,argPackAdvance:L,readValueFromPointer:It(r,t,n),destructorFunction:null}),qe(r,s)}var De=(e,r)=>{var t=X[e];return t===void 0&&m(`${r} has unknown type ${Tr(e)}`),t};function Ut(e,r,t){e>>>=0,r>>>=0;var n=De(e,"enum");r=R(r);var s=n.constructor,u=Object.create(n.constructor.prototype,{value:{value:t},constructor:{value:ie(`${n.name}_${r}`,function(){})}});s.values[t]=u,s[r]=u}var Qe=e=>{if(e===null)return"null";var r=typeof e;return r==="object"||r==="array"||r==="function"?e.toString():""+e},jt=(e,r)=>{switch(r){case 4:return function(t){return this.fromWireType(Te[t>>>2>>>0])};case 8:return function(t){return this.fromWireType(Se[t>>>3>>>0])};default:throw new TypeError(`invalid float width (${r}): ${e}`)}},xt=function(e,r,t){e>>>=0,r>>>=0,t>>>=0,r=R(r),B(e,{name:r,fromWireType:n=>n,toWireType:(n,s)=>s,argPackAdvance:L,readValueFromPointer:jt(r,t),destructorFunction:null})};function Bt(e,r,t,n,s,u,l){e>>>=0,t>>>=0,n>>>=0,s>>>=0,u>>>=0;var c=Je(r,t);e=R(e),e=Fr(e),s=D(n,s),qe(e,function(){Ie(`Cannot call ${e} due to unbound types`,c)},r-1),Z([],c,v=>{var d=[v[0],null].concat(v.slice(1));return $r(e,Ke(e,d,null,s,u,l),r-1),[]})}var Lt=(e,r,t)=>{switch(r){case 1:return t?n=>W[n>>>0]:n=>E[n>>>0];case 2:return t?n=>q[n>>>1>>>0]:n=>ve[n>>>1>>>0];case 4:return t?n=>G[n>>>2>>>0]:n=>P[n>>>2>>>0];default:throw new TypeError(`invalid integer width (${r}): ${e}`)}};function Ht(e,r,t,n,s){e>>>=0,r>>>=0,t>>>=0,r=R(r);var u=h=>h;if(n===0){var l=32-8*t;u=h=>h<<l>>>l}var c=r.includes("unsigned"),v=(h,y)=>{},d;c?d=function(h,y){return v(y,this.name),y>>>0}:d=function(h,y){return v(y,this.name),y},B(e,{name:r,fromWireType:u,toWireType:d,argPackAdvance:L,readValueFromPointer:Lt(r,t,n!==0),destructorFunction:null})}function zt(e,r,t){e>>>=0,t>>>=0;var n=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],s=n[r];function u(l){var c=P[l>>>2>>>0],v=P[l+4>>>2>>>0];return new s(W.buffer,v,c)}t=R(t),B(e,{name:t,fromWireType:u,argPackAdvance:L,readValueFromPointer:u},{ignoreDuplicateRegistrations:!0})}function Nt(e,r){e>>>=0,Rr(e)}var qt=(e,r,t,n)=>{if(t>>>=0,!(n>0))return 0;for(var s=t,u=t+n-1,l=0;l<e.length;++l){var c=e.charCodeAt(l);if(c>=55296&&c<=57343){var v=e.charCodeAt(++l);c=65536+((c&1023)<<10)|v&1023}if(c<=127){if(t>=u)break;r[t++>>>0]=c}else if(c<=2047){if(t+1>=u)break;r[t++>>>0]=192|c>>6,r[t++>>>0]=128|c&63}else if(c<=65535){if(t+2>=u)break;r[t++>>>0]=224|c>>12,r[t++>>>0]=128|c>>6&63,r[t++>>>0]=128|c&63}else{if(t+3>=u)break;r[t++>>>0]=240|c>>18,r[t++>>>0]=128|c>>12&63,r[t++>>>0]=128|c>>6&63,r[t++>>>0]=128|c&63}}return r[t>>>0]=0,t-s},Gt=(e,r,t)=>qt(e,E,r,t),Jt=e=>{for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n<=127?r++:n<=2047?r+=2:n>=55296&&n<=57343?(r+=4,++t):r+=3}return r},Er=typeof TextDecoder<"u"?new TextDecoder:void 0,Kt=(e,r,t)=>{r>>>=0;for(var n=r+t,s=r;e[s]&&!(s>=n);)++s;if(s-r>16&&e.buffer&&Er)return Er.decode(e.subarray(r,s));for(var u="";r<s;){var l=e[r++];if(!(l&128)){u+=String.fromCharCode(l);continue}var c=e[r++]&63;if((l&224)==192){u+=String.fromCharCode((l&31)<<6|c);continue}var v=e[r++]&63;if((l&240)==224?l=(l&15)<<12|c<<6|v:l=(l&7)<<18|c<<12|v<<6|e[r++]&63,l<65536)u+=String.fromCharCode(l);else{var d=l-65536;u+=String.fromCharCode(55296|d>>10,56320|d&1023)}}return u},Xt=(e,r)=>(e>>>=0,e?Kt(E,e,r):"");function Zt(e,r){e>>>=0,r>>>=0,r=R(r);var t=r==="std::string";B(e,{name:r,fromWireType(n){var s=P[n>>>2>>>0],u=n+4,l;if(t)for(var c=u,v=0;v<=s;++v){var d=u+v;if(v==s||E[d>>>0]==0){var h=d-c,y=Xt(c,h);l===void 0?l=y:(l+=String.fromCharCode(0),l+=y),c=d+1}}else{for(var g=new Array(s),v=0;v<s;++v)g[v]=String.fromCharCode(E[u+v>>>0]);l=g.join("")}return N(n),l},toWireType(n,s){s instanceof ArrayBuffer&&(s=new Uint8Array(s));var u,l=typeof s=="string";l||s instanceof Uint8Array||s instanceof Uint8ClampedArray||s instanceof Int8Array||m("Cannot pass non-string to std::string"),t&&l?u=Jt(s):u=s.length;var c=tr(4+u+1),v=c+4;if(P[c>>>2>>>0]=u,t&&l)Gt(s,v,u+1);else if(l)for(var d=0;d<u;++d){var h=s.charCodeAt(d);h>255&&(N(v),m("String has UTF-16 code units that do not fit in 8 bits")),E[v+d>>>0]=h}else for(var d=0;d<u;++d)E[v+d>>>0]=s[d];return n!==null&&n.push(N,c),c},argPackAdvance:L,readValueFromPointer:pe,destructorFunction(n){N(n)}})}var Mr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,Qt=(e,r)=>{for(var t=e,n=t>>1,s=n+r/2;!(n>=s)&&ve[n>>>0];)++n;if(t=n<<1,t-e>32&&Mr)return Mr.decode(E.subarray(e>>>0,t>>>0));for(var u="",l=0;!(l>=r/2);++l){var c=q[e+l*2>>>1>>>0];if(c==0)break;u+=String.fromCharCode(c)}return u},Yt=(e,r,t)=>{if(t??=2147483647,t<2)return 0;t-=2;for(var n=r,s=t<e.length*2?t/2:e.length,u=0;u<s;++u){var l=e.charCodeAt(u);q[r>>>1>>>0]=l,r+=2}return q[r>>>1>>>0]=0,r-n},en=e=>e.length*2,rn=(e,r)=>{for(var t=0,n="";!(t>=r/4);){var s=G[e+t*4>>>2>>>0];if(s==0)break;if(++t,s>=65536){var u=s-65536;n+=String.fromCharCode(55296|u>>10,56320|u&1023)}else n+=String.fromCharCode(s)}return n},tn=(e,r,t)=>{if(r>>>=0,t??=2147483647,t<4)return 0;for(var n=r,s=n+t-4,u=0;u<e.length;++u){var l=e.charCodeAt(u);if(l>=55296&&l<=57343){var c=e.charCodeAt(++u);l=65536+((l&1023)<<10)|c&1023}if(G[r>>>2>>>0]=l,r+=4,r+4>s)break}return G[r>>>2>>>0]=0,r-n},nn=e=>{for(var r=0,t=0;t<e.length;++t){var n=e.charCodeAt(t);n>=55296&&n<=57343&&++t,r+=4}return r},on=function(e,r,t){e>>>=0,r>>>=0,t>>>=0,t=R(t);var n,s,u,l;r===2?(n=Qt,s=Yt,l=en,u=c=>ve[c>>>1>>>0]):r===4&&(n=rn,s=tn,l=nn,u=c=>P[c>>>2>>>0]),B(e,{name:t,fromWireType:c=>{for(var v=P[c>>>2>>>0],d,h=c+4,y=0;y<=v;++y){var g=c+4+y*r;if(y==v||u(g)==0){var T=g-h,$=n(h,T);d===void 0?d=$:(d+=String.fromCharCode(0),d+=$),h=g+r}}return N(c),d},toWireType:(c,v)=>{typeof v!="string"&&m(`Cannot pass non-string to C++ string type ${t}`);var d=l(v),h=tr(4+d+r);return P[h>>>2>>>0]=d/r,s(v,h+4,d+r),c!==null&&c.push(N,h),h},argPackAdvance:L,readValueFromPointer:pe,destructorFunction(c){N(c)}})};function sn(e,r,t,n,s,u){e>>>=0,r>>>=0,t>>>=0,n>>>=0,s>>>=0,u>>>=0,Re[e]={name:R(r),rawConstructor:D(t,n),rawDestructor:D(s,u),fields:[]}}function an(e,r,t,n,s,u,l,c,v,d){e>>>=0,r>>>=0,t>>>=0,n>>>=0,s>>>=0,u>>>=0,l>>>=0,c>>>=0,v>>>=0,d>>>=0,Re[e].fields.push({fieldName:R(r),getterReturnType:t,getter:D(n,s),getterContext:u,setterArgumentType:l,setter:D(c,v),setterContext:d})}var un=function(e,r){e>>>=0,r>>>=0,r=R(r),B(e,{isVoid:!0,name:r,argPackAdvance:0,fromWireType:()=>{},toWireType:(t,n)=>{}})};function cn(e,r,t){return e>>>=0,r>>>=0,t>>>=0,E.copyWithin(e>>>0,r>>>0,r+t>>>0)}var Wr=(e,r,t)=>{var n=[],s=e.toWireType(n,t);return n.length&&(P[r>>>2>>>0]=S.toHandle(n)),s};function fn(e,r,t){return e>>>=0,r>>>=0,t>>>=0,e=S.toValue(e),r=De(r,"emval::as"),Wr(r,t,e)}var ln={},kr=e=>{var r=ln[e];return r===void 0?R(e):r},Ye=[];function vn(e,r,t,n,s){return e>>>=0,r>>>=0,t>>>=0,n>>>=0,s>>>=0,e=Ye[e],r=S.toValue(r),t=kr(t),e(r,r[t],n,s)}function dn(e,r){return e>>>=0,r>>>=0,e=S.toValue(e),r=S.toValue(r),e==r}var pn=e=>{var r=Ye.length;return Ye.push(e),r},hn=(e,r)=>{for(var t=new Array(e),n=0;n<e;++n)t[n]=De(P[r+n*4>>>2>>>0],"parameter "+n);return t};function yn(e,r,t){r>>>=0;var n=hn(e,r),s=n.shift();e--;var u=`return function (obj, func, destructorsRef, args) {
`,l=0,c=[];t===0&&c.push("obj");for(var v=["retType"],d=[s],h=0;h<e;++h)c.push("arg"+h),v.push("argType"+h),d.push(n[h]),u+=`  var arg${h} = argType${h}.readValueFromPointer(args${l?"+"+l:""});
`,l+=n[h].argPackAdvance;var y=t===1?"new func":"func.call";u+=`  var rv = ${y}(${c.join(", ")});
`,s.isVoid||(v.push("emval_returnValue"),d.push(Wr),u+=`  return emval_returnValue(retType, destructorsRef, rv);
`),u+=`};
`,v.push(u);var g=Ar(Function,v)(...d),T=`methodCaller<(${n.map($=>$.name).join(", ")}) => ${s.name}>`;return pn(ie(T,g))}function _n(e,r){return e>>>=0,r>>>=0,e=S.toValue(e),r=S.toValue(r),S.toHandle(e[r])}function mn(e){e>>>=0,e>9&&(z[e+1]+=1)}function gn(e){return e>>>=0,S.toHandle(kr(e))}function bn(){return S.toHandle({})}function Pn(e){e>>>=0;var r=S.toValue(e);Le(r),Ze(e)}function $n(e,r,t){e>>>=0,r>>>=0,t>>>=0,e=S.toValue(e),r=S.toValue(r),t=S.toValue(t),e[r]=t}function wn(e,r){e>>>=0,r>>>=0,e=De(e,"_emval_take_value");var t=e.readValueFromPointer(r);return S.toHandle(t)}var Cn=()=>4294901760,Tn=e=>{var r=Ce.buffer,t=(e-r.byteLength+65535)/65536;try{return Ce.grow(t),ar(),1}catch{}};function Sn(e){e>>>=0;var r=E.length,t=Cn();if(e>t)return!1;for(var n=(v,d)=>v+(d-v%d)%d,s=1;s<=4;s*=2){var u=r*(1+.2/s);u=Math.min(u,e+100663296);var l=Math.min(t,n(Math.max(e,u),65536)),c=Tn(l);if(c)return!0}return!1}var Vr=(e,r)=>{e<128?r.push(e):r.push(e%128|128,e>>7)},An=e=>{for(var r={i:"i32",j:"i64",f:"f32",d:"f64",e:"externref",p:"i32"},t={parameters:[],results:e[0]=="v"?[]:[r[e[0]]]},n=1;n<e.length;++n)t.parameters.push(r[e[n]]);return t},Fn=(e,r)=>{var t=e.slice(0,1),n=e.slice(1),s={i:127,p:127,j:126,f:125,d:124,e:111};r.push(96),Vr(n.length,r);for(var u=0;u<n.length;++u)r.push(s[n[u]]);t=="v"?r.push(0):r.push(1,s[t])},Rn=(e,r)=>{if(typeof WebAssembly.Function=="function")return new WebAssembly.Function(An(r),e);var t=[1];Fn(r,t);var n=[0,97,115,109,1,0,0,0,1];Vr(t.length,n),n.push(...t),n.push(2,7,1,1,101,1,102,0,0,7,5,1,1,102,0,0);var s=new WebAssembly.Module(new Uint8Array(n)),u=new WebAssembly.Instance(s,{e:{f:e}}),l=u.exports.f;return l},En=(e,r)=>{if(Q)for(var t=e;t<e+r;t++){var n=Oe(t);n&&Q.set(n,t)}},Q,Mn=e=>(Q||(Q=new WeakMap,En(0,oe.length)),Q.get(e)||0),er=[],Wn=()=>{if(er.length)return er.pop();try{oe.grow(1)}catch(e){throw e instanceof RangeError?"Unable to grow wasm table. Set ALLOW_TABLE_GROWTH.":e}return oe.length-1},rr=(e,r)=>oe.set(e,r),ge=(e,r)=>{var t=Mn(e);if(t)return t;var n=Wn();try{rr(n,e)}catch(u){if(!(u instanceof TypeError))throw u;var s=Rn(e,r);rr(n,s)}return Q.set(e,n),n},be=e=>{Q.delete(Oe(e)),rr(e,null),er.push(e)};hr=o.InternalError=class extends Error{constructor(r){super(r),this.name="InternalError"}},ot(),ne=o.BindingError=class extends Error{constructor(r){super(r),this.name="BindingError"}},_t(),dt(),Tt(),Cr=o.UnboundTypeError=Ft(Error,"UnboundTypeError"),Vt();var kn={i:rt,D:tt,n:nt,C:it,H:at,h:Rt,g:Mt,a:Wt,G:Rr,t:Dt,f:Ut,x:xt,c:Bt,j:Ht,e:zt,k:Nt,w:Zt,s:on,o:sn,l:an,I:un,F:cn,v:fn,z:vn,b:Ze,m:dn,y:yn,B:_n,u:mn,q:gn,A:bn,p:Pn,r:$n,d:wn,E:Sn},U=Yr(),Or=e=>(Or=U.L)(e),N=e=>(N=U.N)(e),tr=e=>(tr=U.O)(e),Ir=e=>(Ir=U.P)(e);function Vn(e){e=Object.assign({},e);var r=n=>s=>n(s)>>>0,t=n=>()=>n()>>>0;return e.L=r(e.L),e.O=r(e.O),e._emscripten_stack_alloc=r(e._emscripten_stack_alloc),e.emscripten_stack_get_current=t(e.emscripten_stack_get_current),e}o.addFunction=ge,o.removeFunction=be;var Ue;de=function e(){Ue||Dr(),Ue||(de=e)};function Dr(){if(K>0||(xr(),K>0))return;function e(){Ue||(Ue=!0,o.calledRun=!0,!sr&&(Br(),ce(o),o.onRuntimeInitialized?.(),Lr()))}o.setStatus?(o.setStatus("Running..."),setTimeout(function(){setTimeout(function(){o.setStatus("")},1),e()},1)):e()}if(o.preInit)for(typeof o.preInit=="function"&&(o.preInit=[o.preInit]);o.preInit.length>0;)o.preInit.pop()();return Dr(),Y=k,Y}})();export{jn as M};
//# sourceMappingURL=manifold.js.map
